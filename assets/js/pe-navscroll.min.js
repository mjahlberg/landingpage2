function scrollTo(e,t,n,r){function o(e,t){return t>e?e:t}function i(){var c=Date.now(),s=o(1,(c-u)/t),f=n(s);a.scrollTop=f*(e-l)+l,1>s?requestAnimationFrame(i):r&&r()}var u=Date.now(),c=/firefox|trident/i.test(navigator.userAgent)?document.documentElement:document.body,a=c,l=a.scrollTop;return l===e?void r():void requestAnimationFrame(i)}function getViewportH(){var e=docElem.clientHeight,t=window.innerHeight;return t>e?t:e}function scrollY(){return window.pageYOffset||docElem.scrollTop}function getOffset(e){var t=0,n=0;do isNaN(e.offsetTop)||(t+=e.offsetTop),isNaN(e.offsetLeft)||(n+=e.offsetLeft);while(e=e.offsetParent);return{top:t,left:n}}var peNavScroll=function(){"use strict";window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();var e,t=/firefox|trident/i.test(navigator.userAgent)?document.documentElement:document.body,n=function(n){function r(){[].slice.call(l).forEach(function(t,n){l[n].parentElement.classList.remove(e.class),l[n].blur()})}function o(n){return getOffset(n).top<t.scrollTop+c.offsetHeight+e.offset+2?n:void 0}e={nav:".navbar",duration:900,offset:0,allLinks:!1,"class":"active",easingFunction:function(e){return e}};for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i]);for(var u,c=document.querySelector(e.nav),a=e.allLinks?document.querySelectorAll('a[href^="#"]'):c.querySelectorAll("a"),l=c.querySelectorAll("a"),s=a.length,f=[].slice.call(l).map(function(e,t){var n=document.getElementById(/[^#]+$/.exec(l[t].href)[0]);return void 0!==n?n:void 0});s--;)document.getElementById(/[^#]+$/.exec(a.item(s).href)[0])&&a.item(s).addEventListener("click",function(n){var r=t.scrollTop,o=t.scrollHeight-window.innerHeight,i=document.getElementById(/[^#]+$/.exec(this.href)[0]).getBoundingClientRect().top-(c.offsetHeight+e.offset),u=o>r+i?i:o-r,a=e.duration;scrollTo(r+u,a,e.easingFunction,function(){}),n.preventDefault()});var d=function(){var n=(t.scrollHeight-window.innerHeight,f.filter(o));if(n.length){n=n[n.length-1];var i=n.id;u!==i&&(u=i,r(),c.querySelector('[href="#'+i+'"]').parentElement.classList.add(e.class)),getViewportH()+scrollY()>=t.scrollHeight&&(r(),l[l.length-1].parentElement.classList.add(e.class))}};window.addEventListener("scroll",d)};return{init:n}}(),easing={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return.5>e?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return.5>e?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return.5>e?16*e*e*e*e*e:1+16*--e*e*e*e*e}},docElem=window.document.documentElement;