function addBg(e){function t(){var e=scrollY(),t=document.querySelectorAll(".parallaxing");if(t.length>0)for(var o=(t[0].getBoundingClientRect(),document.body.scrollTop,.5*e),n=0,l=1,r=e+getViewportH(),a=0;a<t.length;a++)if(inViewport(t[a])){var d=.55,c=(getViewportH()-t[a].offsetHeight)*d;o=(r-getOffset(t[a]).top-t[a].offsetHeight)*d-c,t[a].style.WebkitTransform="translate3d("+n+"px, "+o+"px, 0) scale("+l+")",t[a].style.transform="translate3d("+n+"px, "+o+"px, 0) scale("+l+")"}}for(var o,n,l,r=document.querySelectorAll(e),a=0;a<r.length;a++)if(r[a].dataset.bgBlend&&(o=r[a].dataset.bgBlend),r[a].dataset.bgColor&&(n=r[a].dataset.bgColor),r[a].dataset.bgOpacity&&(l=r[a].dataset.bgOpacity),r[a].classList.contains("parallax")){var d=document.createElement("div");d.setAttribute("class","parallaxing"),d.style.backgroundImage="url("+r[a].dataset.bgSrc+")",o&&(d.style.backgroundColor=n,d.style.backgroundBlendMode=o,d.style.webkitBackgroundBlendMode=o,d.style.opacity=l),r[a].insertBefore(d,r[a].firstChild)}else r[a].style.backgroundImage="url("+r[a].dataset.bgSrc+")",o&&(r[a].style.backgroundColor=n,r[a].style.backgroundBlendMode=o,r[a].style.webkitBackgroundBlendMode=o);window.addEventListener("scroll",t)}function loader(){function e(){t.classList.add("loaded"),setTimeout(function(){document.body.removeChild(t)},700)}var t=document.getElementById("loading");if(t){var o=setTimeout(e,2e3);t.addEventListener("click",function(){clearTimeout(o),e()})}}function testColor(e){var t=document.createElement("div");if(t.style.color=e,!t.style.color)return null;document.head.appendChild(t);var o=getComputedStyle(t).color;if(document.head.removeChild(t),!o)return null;o.match(/\((\d+), (\d+), (\d+)/);return o}function SelectText(e){var t,o,n=document,l=e;n.body.createTextRange?(t=document.body.createTextRange(),t.moveToElementText(l),t.select()):window.getSelection&&(o=window.getSelection(),0===o.toString().length&&(t=document.createRange(),t.selectNodeContents(l),o.removeAllRanges(),o.addRange(t)))}function getViewportH(){var e=docElem.clientHeight,t=window.innerHeight;return t>e?t:e}function scrollY(){return window.pageYOffset||docElem.scrollTop}function getOffset(e){var t=0,o=0;do isNaN(e.offsetTop)||(t+=e.offsetTop),isNaN(e.offsetLeft)||(o+=e.offsetLeft);while(e=e.offsetParent);return{top:t,left:o}}function inViewport(e,t){var o=e.offsetHeight,n=scrollY(),l=n+getViewportH(),r=getOffset(e).top,a=r+o,t=t||0;return l>=r+o*t&&a-o*t>=n}var docElem=window.document.documentElement;